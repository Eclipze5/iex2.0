{% extends 'base.html' %}

{% block header %}
  <h1>{% block title %}Search{% endblock %}</h1>
{% endblock %}

{% block content %}
  <form method="get">
    <label for="name">Name</label>
    <input name="name" id="name" value="{{ request.form['name'] }}">
    <label for="sex">Sex</label>
    <select id="sex" name="sex">
        <option value=""></option>
        <option value="male">male</option>
        <option value="female">female</option>
    </select>
    <label for="date_of_birth">Date of Birth</label>
    <input type="date" name="date_of_birth" id="date_of_birth" value="{{ request.form['date_of_birth'] }}">
    <label for="phone">Phone</label>
    <input name="phone" id="phone" value="{{ request.form['phone'] }}">
    <label for="address">Address</label>
    <input name="address" id="address" value="{{ request.form['address'] }}">

    <input type="submit" value="Search">
  </form>
  <a href="{{ url_for('blog.index') }}">Back</a>

  {% for patient in patients %}
    <article class="patient">
      <header>
        <div>
          <h1>{{ patient['name'] }}</h1>
          <p>Sex: {{ patient['sex'] }}, DOB: {{ patient['date_of_birth'] }}</p>
        </div>
        {% if g.user['is_admin'] == 1 %}
          <a class="action" href="{{ url_for('blog.update_patient', patient_id=patient['id']) }}">Edit</a>
        {% endif %}
        <a class="action" href="{{ url_for('blog.view_patient', patient_id=patient['id']) }}">View</a>
      </header>
      <p class="body">{{ patient['body'] }}</p>
    </article>
    {% if not loop.last %}
      <hr>
    {% endif %}
  {% endfor %}

  {{ pagination.links }}

{% endblock %}
