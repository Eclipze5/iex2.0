{% extends 'base.html' %}

{% block header %}
  <h2 class="fs2-text mt-4">{% block title %}Patients{% endblock %}</h2>
  <div class="my-3 d-grid gap-2 d-md-flex justify-content-md-end">
    <a class="btn btn-outline-info me-md-2" href="{{ url_for('blog.search') }}">Search</a>
    <a class="btn btn-primary" href="{{ url_for('blog.add_patient') }}">Create</a>
  </div>

{% endblock %}

{% block content %}
<div class="row">
  {% for patient in patients %}
  <div class="col-lg-3 col-md-4 col-sm-6 col-xs-12">
    <div class="card mb-4">
      <a class="card-body" href="{{ url_for('blog.view_patient', patient_id=patient.id) }}">
        <h5 class="card-title">{{ patient.name }}</h5>
        <h6 class="card-subtitle mb-2 text-body-secondary">{{ patient.sex }}</h6>
        <h6 class="card-subtitle mb-2 text-body-secondary">{{ patient.phone }}</h6>
        <p class="card-text">{{ patient.address }}</p>
        {% if g.user.is_admin %}
        <a href="{{ url_for('blog.update_patient', patient_id=patient.id) }}" class="btn btn-info m-2"><span class="text-white">Edit</span></a>
        {% endif %}
      </a>
    </div>
  </div>
  {% endfor %}
</div>




  {{ pagination.links }}

{% endblock %}